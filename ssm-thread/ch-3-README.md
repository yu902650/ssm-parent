 1.CAS(Compare And Swap)
 什么是原子操作?如何实现原子操作?
 =====================================================================
 2.CAS的原理
   CAS(Compare And Swap),指令级别保证这个是一个原子操作.
   利用了现在处理器都支持的CAS的指令, 循环这个指令,直到成功为止
 
 CAS的问题
     ABA问题
     开锁问题
     只能保证一个共享变量的原子操作
     
 3.原子操作CAS
 Atom(不可分割)
 
 -什么是原子操作?如何实现原子操作?
 syn基于阻塞的锁的机制
 1.被阻塞的线程优先级很高
 2.拿到锁的线程一直不释放怎么办?
 3.大量竞争的时候,会消耗CPU,同时带来死锁和其他安全问题.
 
 CAS的原理.
 三个运算符:
 一个内存地址 V, 一个期望的值 A , 一个新值 B
 基本思路:如果地址V上的值和期望的值A相等,那么就给地址V赋一个新值B,如果不是,不作任何操作.
 循环(死循环,自旋)里面不断的进行CAS操作.
 
 CAS的ABA问题:
 A---> B--->A  版本号: A1 --> B2 --> A3
 
 CAS操作长期不成功,cpu不断的循环,
 
 
 ##JDK中相关原子操作类的使用.
AtomicMarkableReference, boolean. 关心值有没有人动过. 
AtomicStampedReference , int      关心值动过几次

###sync 和 显示锁才是锁🔒 ,锁是不让其他的线程进入该线程,从而保证数据的一致性.

###CAS不是锁,它是处理器提供的一个CAS指令,他保证比较和交换的过程中是原子操作,从而保证数据的原子性